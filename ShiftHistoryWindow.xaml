<Window x:Class="takip.ShiftHistoryWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Shift History" Height="700" Width="1000"
        Background="#F5F5F5"
        WindowStartupLocation="CenterOwner">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Başlık ve Özet Bilgiler -->
        <Border Grid.Row="0" Background="#FFF3E0" Padding="20" Margin="0,0,0,20" CornerRadius="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Sol taraf - Başlık -->
                <StackPanel Grid.Column="0">
                    <TextBlock Text="Shift History" 
                               FontSize="24" FontWeight="Bold" 
                               Foreground="#FF9800" Margin="0,0,0,10"/>
                    <TextBlock x:Name="SummaryText" Text="Loading..." 
                               FontSize="14" Foreground="#666"/>
                </StackPanel>
                
                <!-- Sağ taraf - İstatistikler -->
                <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                    <TextBlock x:Name="TotalShiftsText" Text="Total Shifts: -" 
                               FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                    <TextBlock x:Name="TotalProductionText" Text="Total Production: -" 
                               FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                    <TextBlock x:Name="ActiveOperatorsText" Text="Active Operators: -" 
                               FontSize="12" Foreground="#666"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Kontrol Butonları ve Filtreler -->
        <Border Grid.Row="1" Background="#FFF3E0" Padding="20" Margin="0,0,0,20" CornerRadius="10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Butonlar -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,15">
                    <Button x:Name="ExportPdfButton" Content="Export Last Shift PDF" 
                           FontSize="14" Padding="20,10" Margin="0,0,10,0"
                           Background="#FF9800" Foreground="White" 
                           Click="ExportPdfButton_Click"/>
                    <Button x:Name="RefreshButton" Content="Refresh" 
                           FontSize="14" Padding="20,10" Margin="0,0,10,0"
                           Background="#4CAF50" Foreground="White" 
                           Click="RefreshButton_Click"/>
                    <Button x:Name="OpenFolderButton" Content="Open PDF Folder" 
                           FontSize="14" Padding="20,10"
                           Background="#2196F3" Foreground="White" 
                           Click="OpenFolderButton_Click"/>
                </StackPanel>
                
                <!-- Filtreler -->
                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center">
                    <TextBlock Text="Filters:" FontWeight="Bold" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    
                    <TextBlock Text="Date:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                    <DatePicker x:Name="StartDatePicker" Width="120" Margin="0,0,10,0"/>
                    <TextBlock Text="-" VerticalAlignment="Center" Margin="0,0,5,0"/>
                    <DatePicker x:Name="EndDatePicker" Width="120" Margin="0,0,15,0"/>
                    
                    <TextBlock Text="Operator:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                    <ComboBox x:Name="OperatorFilterComboBox" Width="150" Margin="0,0,10,0"
                              SelectionChanged="OperatorFilterComboBox_SelectionChanged"/>
                    
                    <Button x:Name="ClearFiltersButton" Content="Clear Filters" 
                           FontSize="12" Padding="10,5" Background="#9E9E9E" Foreground="White"
                           Click="ClearFiltersButton_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Vardiya Geçmişi Listesi -->
        <Border Grid.Row="2" Background="White" Padding="20" CornerRadius="10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Liste Başlığı -->
                <Grid Grid.Row="0">
                    <TextBlock x:Name="RecordCountText" Text="" 
                               FontSize="12" Foreground="#666" 
                               HorizontalAlignment="Right"/>
                </Grid>

                <!-- Loading Göstergesi -->
                <StackPanel x:Name="LoadingPanel" Grid.Row="1" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="Shift history loading..." 
                               FontSize="16" Foreground="#666" 
                               HorizontalAlignment="Center"/>
                    <ProgressBar Width="200" Height="4" Margin="0,10,0,0" 
                                IsIndeterminate="True" 
                                Background="#E0E0E0" 
                                Foreground="#FF9800"/>
                </StackPanel>

                <!-- Liste Başlığı -->
                <Border x:Name="ListHeaderBorder" Grid.Row="1" Background="#F5F5F5" 
                        BorderBrush="#E0E0E0" BorderThickness="1" Padding="10" 
                        Visibility="Collapsed" Margin="0,0,0,5">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/> <!-- Tarih -->
                            <ColumnDefinition Width="100"/> <!-- Saat -->
                            <ColumnDefinition Width="150"/> <!-- Operatör -->
                            <ColumnDefinition Width="100"/> <!-- Süre -->
                            <ColumnDefinition Width="100"/> <!-- Üretim -->
                            <ColumnDefinition Width="80"/>  <!-- PDF -->
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="Date" FontWeight="Bold" FontSize="12"/>
                        <TextBlock Grid.Column="1" Text="Time" FontWeight="Bold" FontSize="12"/>
                        <TextBlock Grid.Column="2" Text="Operator" FontWeight="Bold" FontSize="12"/>
                        <TextBlock Grid.Column="3" Text="Duration" FontWeight="Bold" FontSize="12"/>
                        <TextBlock Grid.Column="4" Text="Production" FontWeight="Bold" FontSize="12"/>
                        <TextBlock Grid.Column="5" Text="PDF" FontWeight="Bold" FontSize="12"/>
                    </Grid>
                </Border>

                <!-- Vardiya Listesi -->
                <ScrollViewer x:Name="HistoryScrollViewer" Grid.Row="1" VerticalScrollBarVisibility="Auto" Visibility="Collapsed">
                    <StackPanel x:Name="ShiftHistoryPanel">
                        <!-- Vardiya geçmişi buraya dinamik olarak eklenecek -->
                    </StackPanel>
                </ScrollViewer>
            </Grid>
        </Border>
    </Grid>
</Window>

