<Window x:Class="takip.ConcreteBatch2DetailWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Mixer2 Batch Details" Height="700" Width="900" WindowStartupLocation="CenterOwner">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Batch Information -->
        <GroupBox Grid.Row="0" Header="General Information" Margin="0,0,0,16">
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Label Grid.Row="0" Grid.Column="0" Content="Batch ID:" FontWeight="Bold"/>
                <Label Grid.Row="0" Grid.Column="1" x:Name="BatchIdLabel"/>
                <Label Grid.Row="0" Grid.Column="2" Content="Date:" FontWeight="Bold" Margin="20,0,0,0"/>
                <Label Grid.Row="0" Grid.Column="3" x:Name="DateLabel"/>

                <Label Grid.Row="1" Grid.Column="0" Content="Recipe:" FontWeight="Bold"/>
                <Label Grid.Row="1" Grid.Column="1" x:Name="RecipeLabel"/>
                <Label Grid.Row="1" Grid.Column="2" Content="Moisture:" FontWeight="Bold" Margin="20,0,0,0"/>
                <Label Grid.Row="1" Grid.Column="3" x:Name="MoistureLabel"/>
            </Grid>
        </GroupBox>

        <!-- Material Details -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="0,0,0,10">
                
                <!-- Cement Section -->
                <GroupBox Header="Cement" Margin="0,0,0,15" Background="#FFF8F0">
                    <DataGrid x:Name="CementGrid" AutoGenerateColumns="False" IsReadOnly="True" 
                              MaxHeight="150" CanUserResizeRows="False" HeadersVisibility="Column"
                              GridLinesVisibility="All" AlternatingRowBackground="#F5F5F5">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Slot" Binding="{Binding Slot}" Width="60"/>
                            <DataGridTextColumn Header="Cement Type" Binding="{Binding CementType}" Width="250"/>
                            <DataGridTextColumn Header="Weight (kg)" Binding="{Binding WeightKg, StringFormat='N1'}" Width="120"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </GroupBox>

                <!-- Aggregate Section -->
                <GroupBox Header="Aggregates (8 Slots)" Margin="0,0,0,15" Background="#F0F8FF">
                    <DataGrid x:Name="AggregateGrid" AutoGenerateColumns="False" IsReadOnly="True" 
                              MaxHeight="200" CanUserResizeRows="False" HeadersVisibility="Column"
                              GridLinesVisibility="All" AlternatingRowBackground="#F5F5F5">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Aggregate" Width="100">
                                <DataGridTextColumn.Binding>
                                    <MultiBinding StringFormat="Aggregate {0}">
                                        <Binding Path="Slot"/>
                                    </MultiBinding>
                                </DataGridTextColumn.Binding>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="Aggregate Name" Binding="{Binding Name}" Width="200"/>
                            <DataGridTextColumn Header="Weight (kg)" Binding="{Binding WeightKg, StringFormat='N1'}" Width="120"/>
                            <DataGridTextColumn Header="Slot No" Binding="{Binding Slot}" Width="80"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </GroupBox>

                <!-- Admixture Section -->
                <GroupBox Header="Admixtures" Margin="0,0,0,15" Background="#F0FFF0">
                    <DataGrid x:Name="AdmixtureGrid" AutoGenerateColumns="False" IsReadOnly="True" 
                              MaxHeight="150" CanUserResizeRows="False" HeadersVisibility="Column"
                              GridLinesVisibility="All" AlternatingRowBackground="#F5F5F5">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Slot" Binding="{Binding Slot}" Width="60"/>
                            <DataGridTextColumn Header="Admixture Name" Binding="{Binding Name}" Width="200"/>
                            <DataGridTextColumn Header="Chemical (kg)" Binding="{Binding ChemicalKg, StringFormat='N3'}" Width="120"/>
                            <DataGridTextColumn Header="Water (kg)" Binding="{Binding WaterKg, StringFormat='N1'}" Width="120"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </GroupBox>

                <!-- Water and Pigment Section -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Water Details -->
                    <GroupBox Grid.Column="0" Header="Water Details" Margin="0,0,8,0" Background="#F0FFFF">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="140"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Label Grid.Row="0" Grid.Column="0" Content="Loadcell Water:" FontWeight="Bold"/>
                            <Label Grid.Row="0" Grid.Column="1" x:Name="Water1Label"/>

                            <Label Grid.Row="1" Grid.Column="0" Content="Pulse Water:" FontWeight="Bold"/>
                            <Label Grid.Row="1" Grid.Column="1" x:Name="PulseWater1Label"/>
                        </Grid>
                    </GroupBox>

                    <!-- Pigment Details -->
                    <GroupBox Grid.Column="1" Header="Pigment Details" Margin="8,0,0,0" Background="#FFF0FF">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Label Grid.Row="0" Grid.Column="0" Content="Pigment 1:" FontWeight="Bold"/>
                            <Label Grid.Row="0" Grid.Column="1" x:Name="Pigment1Label"/>

                            <Label Grid.Row="1" Grid.Column="0" Content="Pigment 2:" FontWeight="Bold"/>
                            <Label Grid.Row="1" Grid.Column="1" x:Name="Pigment2Label"/>

                            <Label Grid.Row="2" Grid.Column="0" Content="Pigment 3:" FontWeight="Bold"/>
                            <Label Grid.Row="2" Grid.Column="1" x:Name="Pigment3Label"/>

                            <Label Grid.Row="3" Grid.Column="0" Content="Pigment 4:" FontWeight="Bold"/>
                            <Label Grid.Row="3" Grid.Column="1" x:Name="Pigment4Label"/>
                        </Grid>
                    </GroupBox>
                </Grid>

            </StackPanel>
        </ScrollViewer>

        <!-- Bottom Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
            <Button Content="Copy" Width="100" Margin="0,0,10,0" Click="CopyButton_Click"/>
            <Button Content="Close" Width="100" IsCancel="True" Click="CloseButton_Click"/>
        </StackPanel>
    </Grid>
</Window>

